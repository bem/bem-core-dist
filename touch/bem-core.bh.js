!function(t){var e=function(){function t(){this._lastMatchId=0,this._matchers=[],this._infiniteLoopDetection=!1,this.lib={},this._shortTags={};for(var t=0;t<o.length;t++)this._shortTags[o[t]]=1;this._options={},this._optJsAttrName="onclick",this._optJsAttrIsJs=!0,this._optJsCls="i-bem",this._optJsElem=!0,this._optEscapeContent=!1,this._optNobaseMods=!1,this._optDelimElem="__",this._optDelimMod="_",this.utils={_expandoId:(new Date).getTime(),bh:this,isSimple:function(t){if(!t||t===!0)return!0;var e=typeof t;return"string"===e||"number"===e},extend:function(t){t&&"object"==typeof t||(t={});for(var e=1,o=arguments.length;o>e;e++){var n,s=arguments[e];if(s)for(n in s)t[n]=s[n]}return t},position:function(){var t=this.node;return"content"===t.index?1:t.position},isFirst:function(){var t=this.node;return"content"===t.index||1===t.position},isLast:function(){var t=this.node;return"content"===t.index||t.position===t.arr._listLength},tParam:function(t,e,o){var n="__tp_"+t,s=this.node;if(arguments.length>1)return!o&&s.hasOwnProperty(n)||(s[n]=e),this;for(;s;){if(s.hasOwnProperty(n))return s[n];s=s.parentNode}},process:function(t){var e=this.ctx,o=this.node,n=this.bh.processBemJson(t,e.block);return this.ctx=e,this.node=o,n},applyBase:function(){var t=this.node,e=t.json,o=e.block,n=e.mods,s=this.bh._fastMatcher(this,e);return void 0!==s&&(this.ctx=t.arr[t.index]=t.json=s,t.block=o,t.mods=n),this},stop:function(){return this.ctx._stop=!0,this},generateId:function(){return"uniq"+this._expandoId+ ++e},mod:function(t,e,o){var n=this.ctx.elem?"elemMods":"mods";if(arguments.length>1){var s=this.ctx[n];return s[t]=!s.hasOwnProperty(t)||o?e:s[t],this}return this.ctx[n][t]},mods:function(t,e){var o=this.ctx.elem?"elemMods":"mods",n=this.ctx[o];return void 0!==t?(this.ctx[o]=e?this.extend(n,t):this.extend(t,n),this):n},tag:function(t,e){return void 0===t?this.ctx.tag:((e||void 0===this.ctx.tag)&&(this.ctx.tag=t),this)},mix:function(t,e){return void 0===t?this.ctx.mix:(this.ctx.mix=e||!this.ctx.mix?t:(Array.isArray(this.ctx.mix)?this.ctx.mix:[this.ctx.mix]).concat(t),this)},attr:function(t,e,o){var n;return arguments.length>1?(n=this.ctx.attrs||(this.ctx.attrs={}),n[t]=!n.hasOwnProperty(t)||o?e:n[t],this):(n=this.ctx.attrs,n?n[t]:void 0)},attrs:function(t,e){var o=this.ctx.attrs||{};return void 0===t?o:(this.ctx.attrs=e?this.extend(o,t):this.extend(t,o),this)},bem:function(t,e){return void 0===t?this.ctx.bem:((e||void 0===this.ctx.bem)&&(this.ctx.bem=t),this)},js:function(t,e){var o=this.ctx;return void 0===t?o.js:(e||void 0===o.js?o.js=t:o.js!==!1&&(o.js=this.extend(o.js,t)),this)},cls:function(t,e){return void 0===t?this.ctx.cls:((e||void 0===this.ctx.cls)&&(this.ctx.cls=t),this)},param:function(t,e,o){return void 0===e?this.ctx[t]:((o||void 0===this.ctx[t])&&(this.ctx[t]=e),this)},content:function(t,e){return void 0===t?this.ctx.content:((e||void 0===this.ctx.content)&&(this.ctx.content=t),this)},html:function(t,e){return void 0===t?this.ctx.html:((e||void 0===this.ctx.html)&&(this.ctx.html=t),this)},json:function(){return this.ctx}}}var e=0;t.prototype={setOptions:function(t){var e;for(e in t)this._options[e]=t[e];if(t.jsAttrName&&(this._optJsAttrName=t.jsAttrName),t.jsAttrScheme&&(this._optJsAttrIsJs="js"===t.jsAttrScheme),void 0!==t.jsCls&&(this._optJsCls=t.jsCls),t.hasOwnProperty("jsElem")&&(this._optJsElem=t.jsElem),t.clsNobaseMods&&(this._optNobaseMods=!0),t.escapeContent&&(this._optEscapeContent=t.escapeContent),t.delimElem&&(this._optDelimElem=t.delimElem),t.delimMod&&(this._optDelimMod=t.delimMod),t.shortTags)for(var o=0;o<t.shortTags.length;o++)this._shortTags[t.shortTags[o]]=1;return this},getOptions:function(){return this._options},enableInfiniteLoopDetection:function(t){return this._infiniteLoopDetection=t,this},apply:function(t){return this.toHtml(this.processBemJson(t))},match:function(t,e){if(!t)return this;if(Array.isArray(t))return t.forEach(function(o,n){this.match(t[n],e)},this),this;if("object"==typeof t){for(var o in t)this.match(o,t[o]);return this}return e.__id="__func"+this._lastMatchId++,this._matchers.push([t,e]),this._fastMatcher=null,this},beforeEach:function(t){return this.match("$before",t)},afterEach:function(t){return this.match("$after",t)},buildMatcher:function(){function t(t,e){for(var o={},n=0,s=t.length;s>n;n++){var i=t[n],r=i[e]||"__no_value__";(o[r]||(o[r]=[])).push(i)}return o}function e(t,e,o){t.push("json."+e+" = true;","subRes = _m"+o+"(ctx, json);",'if (subRes !== undefined) return (subRes || "");',"if (json._stop) return;")}var o,n,s,i,r,c,a,h,l=[],m=["bh = this"],u=this._matchers,p=[];for(o=u.length-1;o>=0;o--)c=u[o],r=c[0],m.push("_m"+o+" = ms["+o+"][1]"),i={fn:c[1],index:o},~r.indexOf(this._optDelimElem)?(a=r.split(this._optDelimElem),h=a[0].split(this._optDelimMod),i.block=h[0],h.length>1&&(i.blockMod=h[1],i.blockModVal=h[2]||!0),a=a[1].split(this._optDelimMod),i.elem=a[0],a.length>1&&(i.elemMod=a[1],i.elemModVal=a[2]||!0)):(a=r.split(this._optDelimMod),i.block=a[0],a.length>1&&(i.blockMod=a[1],i.blockModVal=a[2]||!0)),p.push(i);var f=t(p,"block"),d=f.$before,_=f.$after;if(_&&delete f.$after,l.push("var "+m.join(", ")+";","function applyMatchers(ctx, json) {","var subRes;"),d)for(delete f.$before,n=0,s=d.length;s>n;n++)i=d[n],e(l,i.fn.__id,i.index);l.push("switch (json.block) {");for(var b in f){l.push('case "'+b+'":');var v=t(f[b],"elem");l.push("switch (json.elem) {");for(var x in v){"__no_value__"===x?l.push("case undefined:"):l.push('case "'+x+'":');var g=v[x];for(n=0,s=g.length;s>n;n++){i=g[n];var j=i.fn,y=[];y.push("!json."+j.__id),i.elemMod&&y.push('json.elemMods && json.elemMods["'+i.elemMod+'"] === '+(i.elemModVal===!0||'"'+i.elemModVal+'"')),i.blockMod&&y.push('json.mods && json.mods["'+i.blockMod+'"] === '+(i.blockModVal===!0||'"'+i.blockModVal+'"')),l.push("if ("+y.join(" && ")+") {"),e(l,j.__id,i.index),l.push("}")}l.push("break;")}l.push("}","break;")}if(l.push("}"),_)for(n=0,s=_.length;s>n;n++)i=_[n],e(l,i.fn.__id,i.index);return l.push("};","return applyMatchers;"),l.join("\n")},processBemJson:function(t,e,o){function n(){this.ctx=null}if(null!=t){var s,i,r,c,a,h,l,m,u,p,f=[t],d=[{json:t,arr:f,index:0,block:e,mods:null}],_=this._fastMatcher||(this._fastMatcher=Function("ms",this.buildMatcher())(this._matchers)),b=!o,v=this._infiniteLoopDetection;n.prototype=this.utils;for(var x=new n;s=d.shift();){if(i=s.json,r=s.block,c=s.mods,Array.isArray(i)){for(a=0,h=0,l=i.length;l>a;a++)u=i[a],u!==!1&&null!=u&&"object"==typeof u&&d.push({json:u,arr:i,index:a,position:++h,block:r,mods:c,parentNode:s});i._listLength=h}else{var g,j=!1;if(i.elem?(r=i.block=i.block||r,i.elemMods||(i.elemMods=i.mods||{},i.mods=null),c=i.mods=i.mods||c):i.block&&(r=i.block,c=i.mods=i.mods||{}),"object"==typeof i){if(v){if(i.__processCounter=(i.__processCounter||0)+1,_.__processCounter=(_.__processCounter||0)+1,i.__processCounter>100)throw new Error('Infinite json loop detected at "'+i.block+(i.elem?this._optDelimElem+i.elem:"")+'".');if(_.__processCounter>1e3)throw new Error('Infinite matcher loop detected at "'+i.block+(i.elem?this._optDelimElem+i.elem:"")+'".')}p=void 0,i._stop||(x.node=s,x.ctx=i,p=_(x,i),void 0!==p&&(i=p,s.json=i,s.block=r,s.mods=c,d.push(s),j=!0))}if(!j&&b&&(g=i.content))if(Array.isArray(g)){var y;do{for(y=!1,a=0,l=g.length;l>a;a++)if(Array.isArray(g[a])){y=!0;break}y&&(i.content=g=g.concat.apply([],g))}while(y);for(a=0,h=0,l=g.length,m=l-1;l>a;a++)u=g[a],u!==!1&&null!=u&&"object"==typeof u&&d.push({json:u,arr:g,index:a,position:++h,block:r,mods:c,parentNode:s});g._listLength=h}else d.push({json:g,arr:i,index:"content",block:r,mods:c,parentNode:s})}s.arr[s.index]=i}return f[0]}},toHtml:function(t){this._buf="",this._html(t);var e=this._buf;return delete this._buf,e},_html:function(t){var e,o,c;if(t!==!1&&null!=t)if("object"!=typeof t)this._buf+=this._optEscapeContent?n(t):t;else if(Array.isArray(t))for(e=0,o=t.length;o>e;e++)c=t[e],c!==!1&&null!=c&&this._html(c);else{if(t.toHtml){var a=t.toHtml.call(this,t)||"";return void(this._buf+=a)}var h=t.bem!==!1;if("undefined"!=typeof t.tag&&!t.tag)return void(t.html?this._buf+=t.html:this._html(t.content));t.mix&&!Array.isArray(t.mix)&&(t.mix=[t.mix]);var l,m,u,p="",f="",d=!1;if(l=t.attrs)for(e in l)m=l[e],m===!0?f+=" "+e:m!==!1&&null!==m&&void 0!==m&&(f+=" "+e+'="'+s(m)+'"');if(h){var _=t.block+(t.elem?this._optDelimElem+t.elem:"");t.block&&(p=r(t,_,null,this._optNobaseMods,this._optDelimMod),t.js&&((u={})[_]=t.js===!0?{}:t.js));var b=this._optJsCls&&(this._optJsElem||!t.elem),v=t.mix;if(v&&v.length)for(e=0,o=v.length;o>e;e++){var x=v[e];if(x&&x.bem!==!1){var g=x.block||t.block||"",j=x.elem||(x.block?null:t.block&&t.elem),y=g+(j?this._optDelimElem+j:"");g&&(p+=r(x,y,_,this._optNobaseMods,this._optDelimMod),x.js&&((u=u||{})[y]=x.js===!0?{}:x.js,d=!0,b||(b=g&&this._optJsCls&&(this._optJsElem||!j))))}}if(u){b&&(p+=" "+this._optJsCls);var k=d||t.js!==!0?i(JSON.stringify(u)):'{"'+_+'":{}}';f+=" "+(t.jsAttr||this._optJsAttrName)+"='"+(this._optJsAttrIsJs?"return "+k:k)+"'"}}t.cls&&(p=(p?p+" ":"")+s(t.cls).trim());var M=t.tag||"div";this._buf+="<"+M+(p?' class="'+p+'"':"")+(f?f:""),this._shortTags[M]?this._buf+="/>":(this._buf+=">",t.html?this._buf+=t.html:this._html(t.content),this._buf+="</"+M+">")}}};var o="area base br col command embed hr img input keygen link menuitem meta param source track wbr".split(" "),n=t.prototype.xmlEscape=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},s=t.prototype.attrEscape=function(t){return(t+"").replace(/&/g,"&amp;").replace(/"/g,"&quot;")},i=t.prototype.jsAttrEscape=function(t){return(t+"").replace(/&/g,"&amp;").replace(/'/g,"&#39;")},r=function(t,e,o,n,s){var i,r,c,a="";if(o!==e&&(o&&(a+=" "),a+=e),i=t.elem&&t.elemMods||t.mods)for(c in i)r=i[c],(r||0===r)&&(a+=" "+(n?s:e+s)+c+(r===!0?"":s+r));return a};return t}();"undefined"!=typeof module&&(module.exports=e);var o=new e;o.setOptions({jsAttrName:"data-bem",jsAttrScheme:"json"});var n=function(t,e){!function(){o.match("page",function(t,e){return t.tag("body").tParam("nonceCsp",e.nonce).content([t.content(),e.scripts],!0),[e.doctype||"<!DOCTYPE html>",{tag:"html",cls:"ua_js_no",content:[{elem:"head",content:[{tag:"meta",attrs:{charset:"utf-8"}},e.uaCompatible===!1?"":{tag:"meta",attrs:{"http-equiv":"X-UA-Compatible",content:e.uaCompatible||"IE=edge"}},{tag:"title",content:e.title},{block:"ua",attrs:{nonce:e.nonce}},e.head,e.styles,e.favicon?{elem:"favicon",url:e.favicon}:""]},e]}]}),o.match("page__head",function(t){t.bem(!1).tag("head")}),o.match("page__meta",function(t){t.bem(!1).tag("meta")}),o.match("page__link",function(t){t.bem(!1).tag("link")}),o.match("page__favicon",function(t,e){t.bem(!1).tag("link").attr("rel","shortcut icon").attr("href",e.url)})}(),function(){o.match("page",function(t,e){t.mix({block:"ua",js:!0}).tParam("zoom",e.zoom)}),o.match("page__head",function(t,e){t.applyBase().content([e.content,{elem:"meta",attrs:{name:"viewport",content:"width=device-width,"+(t.tParam("zoom")?"initial-scale=1":"maximum-scale=1,initial-scale=1,user-scalable=no")}},{elem:"meta",attrs:{name:"format-detection",content:"telephone=no"}},{elem:"link",attrs:{name:"apple-mobile-web-app-capable",content:"yes"}}],!0)})}(),function(){o.match("ua",function(t){t.bem(!1).tag("script").content(["(function(e,c){",'e[c]=e[c].replace(/(ua_js_)no/g,"$1yes");','})(document.documentElement,"className");'],!0)})}(),function(){o.match("ua",function(t){t.js(!0)})}(),function(){o.match("page__css",function(t,e){t.bem(!1),e.url?t.tag("link").attr("rel","stylesheet").attr("href",e.url):t.tag("style")})}(),function(){o.match("page__js",function(t,e){var o=t.tParam("nonceCsp");t.bem(!1).tag("script"),e.url?t.attr("src",e.url):o&&t.attr("nonce",o)})}(),function(){o.match("ua",function(t,e){t.applyBase(),t.content([e.content,"(function(d,n){","d.documentElement.className+=",'" ua_svg_"+(d[n]&&d[n]("http://www.w3.org/2000/svg","svg").createSVGRect?"yes":"no");','})(document,"createElementNS");'],!0)})}(),function(){o.match("page__icon",function(t,e){t.content([e.src16&&{elem:"link",attrs:{rel:"shortcut icon",href:e.src16}},e.src114&&{elem:"link",attrs:{rel:"apple-touch-icon-precomposed",sizes:"114x114",href:e.src114}},e.src72&&{elem:"link",attrs:{rel:"apple-touch-icon-precomposed",sizes:"72x72",href:e.src72}},e.src57&&{elem:"link",attrs:{rel:"apple-touch-icon-precomposed",href:e.src57}}],!0)})}(),function(){o.match("i-bem__i18n",function(t,e){if(!e)return"";var n=e.keyset,s=e.key,i=e.params||{};return n||s?("undefined"!=typeof e.content&&null===e.content||(i.content=o.apply(e.content)),o.lib.i18n(n,s,i)):""})}()},s=!0;"object"==typeof modules?(modules.define("BH",[],function(t){n(),t(o)}),modules.define("bh",["BH"],function(t){t(o)}),modules.define("BEMHTML",["BH"],function(t){t(o)}),s=!1):"object"==typeof exports&&(n(),o.bh=o,o.BEMHTML=o,module.exports=o,s=!1),s&&(n(),t.BH=o,t.bh=o,t.BEMHTML=o)}("undefined"!=typeof window?window:global);